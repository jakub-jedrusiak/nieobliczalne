[
  {
    "objectID": "kombinatoryka.html",
    "href": "kombinatoryka.html",
    "title": "Kombinatoryka",
    "section": "",
    "text": "import itertools\nimport pandas as pd\n\ndef variations(iterable, subset_length):\n    '''Kombinacje w wierszach, permutacje w kolumnach, wszystko razem to wariacje'''\n    df = pd.DataFrame([list(itertools.permutations(x)) for x in itertools.combinations(iterable, subset_length)]).T\n    df.index = range(1, len(df.index) + 1)\n    df.columns = range(1, len(df.columns) + 1)\n    return df\n\nKombinatoryka to część matematyki zajmująca się modyfikacjami zbiorów. Weźmy sobie zbiór 5 pierwszych liter alfabetu i nazwijmy go Z jak zbiór. Zacznę od skomplikowanie brzmiącego wstępu, a potem wyjaśnię to na przykładach.\n\nZ = [\"A\", \"B\", \"C\", \"D\", \"E\"]\n\nZ tym zbiorem mogę zrobić kilka rzeczy. Mogę go zacząć rozbijać na mniejsze zbiory. Mogę zacząć przestawiać w nim elementy. Mogę najpierw rozbić go na mniejsze zbiory, a potem przestawiać elementy w tych małych zbiorach. Każda z tych akcji ma swoją własną nazwę. Jeżeli mówię, że:\n\npermutuję – zmieniam kolejność elementów;\nkombinuję – rozbijam swój zbiór na mniejsze zbiory (combine – łączyć; łączę stare elementy na nowo).\n\nKiedy robię permutacje, z góry zakładam, że kolejność ma znaczenie. Jest wiele sytuacji, w których kolejność ma znaczenie, ale są też sytuacje, w których liczy się tylko to, jakie mam elementy, a nie w jakiej są kolejności. Dla przykładu nieważne, czy w losowaniu Lotto wyciągnięto 2, 5, 7 czy 7, 5, 2 – jeśli mamy te liczby na swoim kuponie, możemy dostać nagrodę. Jeśli kolejność ma znaczenie, mówimy o wariacjach, a jeśli znaczenia nie ma, mówimy o kombinacjach.\nPrzed chwilą mówiłem, że zmiana kolejności to permutacja, a potem nagle używam słowa wariacja. Istnieje pomiędzy nimi pewna różnica, polegająca na tym, czy zmieniam kolejność w całym naszym zbiorze, czy wcześniej rozbijam go na mniejsze zbiory. Słowem permutacja określamy zmiany kolejności w całym zbiorze, zaś o wariacjach mówimy wtedy, gdy przed zmianą kolejności rozbijamy nasz zbiór na mniejsze zbiory.\n\nPermutacje\nOmówmy to na przykładzie naszego zbioru liter od A do E. Permutacja tego zbioru będzie wyglądała tak:\n\npd.DataFrame(itertools.permutations(Z))\n\n\n\n\n\n  \n    \n      \n      0\n      1\n      2\n      3\n      4\n    \n  \n  \n    \n      0\n      A\n      B\n      C\n      D\n      E\n    \n    \n      1\n      A\n      B\n      C\n      E\n      D\n    \n    \n      2\n      A\n      B\n      D\n      C\n      E\n    \n    \n      3\n      A\n      B\n      D\n      E\n      C\n    \n    \n      4\n      A\n      B\n      E\n      C\n      D\n    \n    \n      ...\n      ...\n      ...\n      ...\n      ...\n      ...\n    \n    \n      115\n      E\n      D\n      A\n      C\n      B\n    \n    \n      116\n      E\n      D\n      B\n      A\n      C\n    \n    \n      117\n      E\n      D\n      B\n      C\n      A\n    \n    \n      118\n      E\n      D\n      C\n      A\n      B\n    \n    \n      119\n      E\n      D\n      C\n      B\n      A\n    \n  \n\n120 rows × 5 columns\n\n\n\nZe zbioru 5 liter możemy zatem wytworzyć 120 zbiorów, każdy z inną kolejnością liter. Policzyć jest to dość łatwo. Mamy 5 miejsc i 5 liter, które możemy tam umieścić: \\(P_5 = \\_ \\times \\_ \\times \\_ \\times \\_ \\times \\_\\). Na pierwszym miejscu możemy umieścić 5 liter: \\(P_5 = 5 \\times \\_ \\times \\_ \\times \\_ \\times \\_\\). Ponieważ jedną literę już zużyliśmy, do drugiego miejsca możemy wsadzić tylko jedną z 4 pozostałych liter: \\(P_5 = 5 \\times 4 \\times \\_ \\times \\_ \\times \\_\\). Uzupełniając nasz schemacik dalej otrzymujemy równanie \\(P_5 = 5\\times 4 \\times 3 \\times 2 \\times 1 = 5! = 120\\). 5! (czyt. pięć silnia) to skrótowy zapis mnożenia liczb od 1 do 5. Powstaje nam z tego wzór na liczbę możliwych permutacji n elementów:\n\\[\nP_n = n!\n\\]\n\n\nWariacje\nCiekawie zaczyna się robić, gdy przed zmianą kolejności chcemy jeszcze rozbić nasz zbiór na mniejsze zbiory. Dla przykładu możemy sobie wyobrazić, że chcemy z naszego zbioru 5 liter wybrać wszystkie możliwe zbiory po 2 litery, np. AB, AC, AD itd. Mamy do dyspozycji mniej miejsca, niż liter w zbiorze. Liczenie czegoś takiego jest analogiczne. Na pierwszym miejscu może pojawić się 1 z 5 liter, na drugim tylko 1 z 4: \\(V^2_5 = 5 \\times 4 = 20\\). Powinno więc istnieć 20 takich zbiorów. Wypiszmy je wszystkie.\n\nvariations(Z, 2)\n\n\n\n\n\n  \n    \n      \n      1\n      2\n      3\n      4\n      5\n      6\n      7\n      8\n      9\n      10\n    \n  \n  \n    \n      1\n      (A, B)\n      (A, C)\n      (A, D)\n      (A, E)\n      (B, C)\n      (B, D)\n      (B, E)\n      (C, D)\n      (C, E)\n      (D, E)\n    \n    \n      2\n      (B, A)\n      (C, A)\n      (D, A)\n      (E, A)\n      (C, B)\n      (D, B)\n      (E, B)\n      (D, C)\n      (E, C)\n      (E, D)\n    \n  \n\n\n\n\nŻeby wyprowadzić wzór na takie wariacje, musimy zwrócić uwagę na fakt, że nasze obliczenie \\(5 \\times 4\\) wygląda jak kawałek silni. Brakuje tylko \\(3 \\times 2 \\times 1\\). Moglibyśmy więc zapisać to w taki sposób:\n\\[\nV^2_5 = 5 \\times 4 = \\frac{5 \\times 4 \\times 3 \\times 2 \\times 1}{3 \\times 2 \\times 1} = \\frac{5!}{3!}\n\\]\nW taki sposób \\(3 \\times 2 \\times 1\\) skróci się i zostanie tylko \\(5 \\times 4\\). Jeśli mielibyśmy 3 miejsca, chcielibyśmy uzyskać \\(5 \\times 4 \\times 3\\), a więc w mianowniku zapisalibyśmy tylko \\(2 \\times 1\\), czyli ostatecznie \\(\\frac{5!}{2!}\\). Powstaje nam z tego następujący wzór na liczbę wariacji n elementów po k elementów (czyli rozbicie w podzbiory po k elementów):\n\\[\nV^k_n = \\frac{n!}{(n-k)!}\n\\]\nSpróbujmy wypisać wariacje naszego zbioru po 3 elementy.\n\nvariations(Z, 3)\n\n\n\n\n\n  \n    \n      \n      1\n      2\n      3\n      4\n      5\n      6\n      7\n      8\n      9\n      10\n    \n  \n  \n    \n      1\n      (A, B, C)\n      (A, B, D)\n      (A, B, E)\n      (A, C, D)\n      (A, C, E)\n      (A, D, E)\n      (B, C, D)\n      (B, C, E)\n      (B, D, E)\n      (C, D, E)\n    \n    \n      2\n      (A, C, B)\n      (A, D, B)\n      (A, E, B)\n      (A, D, C)\n      (A, E, C)\n      (A, E, D)\n      (B, D, C)\n      (B, E, C)\n      (B, E, D)\n      (C, E, D)\n    \n    \n      3\n      (B, A, C)\n      (B, A, D)\n      (B, A, E)\n      (C, A, D)\n      (C, A, E)\n      (D, A, E)\n      (C, B, D)\n      (C, B, E)\n      (D, B, E)\n      (D, C, E)\n    \n    \n      4\n      (B, C, A)\n      (B, D, A)\n      (B, E, A)\n      (C, D, A)\n      (C, E, A)\n      (D, E, A)\n      (C, D, B)\n      (C, E, B)\n      (D, E, B)\n      (D, E, C)\n    \n    \n      5\n      (C, A, B)\n      (D, A, B)\n      (E, A, B)\n      (D, A, C)\n      (E, A, C)\n      (E, A, D)\n      (D, B, C)\n      (E, B, C)\n      (E, B, D)\n      (E, C, D)\n    \n    \n      6\n      (C, B, A)\n      (D, B, A)\n      (E, B, A)\n      (D, C, A)\n      (E, C, A)\n      (E, D, A)\n      (D, C, B)\n      (E, C, B)\n      (E, D, B)\n      (E, D, C)\n    \n  \n\n\n\n\nTabela jest bardziej rozbudowana, ale wszystko zgadza się z naszymi poprzednimi wnioskami:\n\\[\nV^3_5 = \\frac{5!}{(5-3)!} = \\frac{5!}{2!} = \\frac{5 \\times 4 \\times 3 \\times 2 \\times 1}{2 \\times 1} = 5 \\times 4 \\times 3 = 20 \\times 3 = 60\n\\]\nCzyli wariacji po 3 elementy jest w naszym przykładzie 3 razy więcej, niż wariacji po 2 elementy.\n\n\nKombinacje\nMożemy zwrócić uwagę, że tabela powyżej ma ściśle określoną strukturę. W pierwszej kolumnie wszystkie podzbiory składają się z literek A, B i C ułożonych na różne sposoby. Można więc powiedzieć, że podzbiory w każdej kolumnie to dla siebie permutacje, bo składają się z tych samych elementów, różnią się tylko kolejnością. Widzimy więc, że ze zbioru 5 literek możemy wybrać 10 różnych zestawów literek, a w każdym z tych zestawów można ułożyć literki na 6 sposobów, co daje łącznie 60 wariacji. Wariacje możemy więc uzyskać tak, że weźmiemy wszyskie unikalne mniejsze zestawy literek, a potem rozpiszemy permutacje każdego z tych zestawów. Takie unikalne zestawy literek, bez zwracania uwagi na ich kolejność, to kombinacje. W tabeli każdy wiersz to pełny zestaw kombinacji. Wynika nam z tego inny wzór na liczbę wariacji:\n\\[\nV^k_n = C^k_n \\times P_k\n\\]\nSą to w rzeczywistości wymiary naszej tabeli. Liczba kombinacji (tj. unikalnych zestawów) to liczba kolumn, a liczba permutacji to liczba wierszy. Tabela powyżej ma wymiary \\(6 \\times 10\\), bo mamy 10 unikalnych zestawów po 3 elementy i każdy taki zestaw da się ułożyć na 6 różnych sposobów, co ostatecznie daje 60 komórek.\nŻeby wyprowadzić wzór na liczbę kombinacji, możemy wykorzystać fakt, że wiemy, jak się liczy liczbę wariacji i permutacji. W powyższej tabeli mamy 60 wariacji, a każda kombinacja ma 6 możliwych permutacji. Żeby więc pozbyć się informacji o permutacjach, musimy podzielić 60 wariacji na 6. Podstawiając do wzoru:\n\\[\nV^3_5 = C^3_5 \\times P_3\n\\] \\[\n60 = C^3_5 \\times 6\\ |\\div 6\n\\] \\[\nC^3_5 = \\frac{60}{6} = 10\n\\]\nCzyli jeśli mamy tabelę z 6 wierszami i ilomaś komulmnami, która ma 60 komórek, to kolumn musi być 10.\nMożemy do naszego nowego wzoru podstawić wzory na liczbę wariacji i permutacji i w ten sposób uzyskać ogólny wzór na liczbę kombinacji:\n\\[\nV^k_n = C^k_n \\times P_k\n\\] \\[\n\\frac{n!}{(n-k)!} = C^k_n \\times k! \\ |\\div k!\n\\] \\[\nC^k_n = \\frac{\\frac{n!}{(n-k)!}}{k!} = \\frac{n!}{k!(n-k)!} = \\binom{n}{k}\n\\]\nWzór ten doczekał się nawet własnego symbolu zwanego dwumianem Newtona \\(\\binom{n}{k}\\) (czyt. en nad ka). Dla przykładu liczba kombinacji 5 elementów po 3 elementy oznacza się jako 5 nad 3 i liczy tak:\n\\[\n\\binom{5}{3} = \\frac{5!}{3!(5-3)!} = \\frac{5!}{3!2!} = \\frac{5 \\times 4 \\times 3 \\times 2 \\times 1}{(3 \\times 2 \\times 1) \\times (2 \\times 1)} = 10\n\\]\n\n\nPowtórzenia\nDo tej pory omówiliśmy wariacje i kombinacje bez powtórzeń. Innymi słowy litera raz użyta nie mogła zostać użyta ponownie. Spotykaliśmy zbiory ABC, ale nie spotkaliśmy zbioru AAA. Wariacje i kombinacje mogą pozwalać na takie powtórzenia. Wariacje możemy policzyć jak zawsze kreskami. W zbiorze Z mamy 5 liter i chcemy zrobić z niego podzbiory po 2 elementy ze zwracaniem (czyli po wylosowaniu wraca do puli, czyli z powtórzeniami). Na pierwszym miejscu może być 5 liter, ale na drugim miejscu także może być 5 liter, bo litery się nie zużywają. Wychodzi nam więc takie działanie:\n\\[\n\\bar{V}^2_5 = 5 \\times 5 = 5^2 = 25\n\\]\nWychodzi nam z tego prosty wzór na liczbę wariacji n elementów po k elementów z powtórzeniami:\n\\[\n\\bar{V}^k_n = n^k\n\\]\nWzór na kombinacje z porwtórzeniami podaję raczej pro forma, bo rzadko jest używany.\n\\[\n\\bar{C}^k_n = \\binom{k+n-1}{k} = \\frac{(k+n-1)!}{k!(n-1)!}\n\\]\n\n\nPodsumowanie\nPermutacje to zmiany kolejności, kombinacje to unikalne podzbiory. Jeśli zaczniemy robić permutacje unikalnych podzbiorów, wyjdą nam wariacje. Albo patrząc inaczej – permutacje to wariacje \\(V^n_n\\). Permutacje i wariacje możemy liczyć kreskami i silnią. liczbę kombinacji uzyskamy dzieląc liczbę wariacji po k elementów przez liczbę permutacji k. Powstały wzór oznacza się symbolem Newtona \\(\\binom{n}{k}\\). Pomocny może okazać się poniższy schemat."
  },
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "Jakub Jędrusiak",
    "section": "",
    "text": "Strona poglądowa. Do gromadzenia rzeczy. Aktualnie niewiele się tu dzieje."
  }
]